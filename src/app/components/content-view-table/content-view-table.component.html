
<div class="content-table">
  <table *ngIf="contentData?.items?.length else emptyView">
    <tr>
      <th></th>

      <th style="text-align: left;">Name</th>
      <th style="text-align: left;">Created By</th>
      <th>Created On</th>
      <th>Changed On</th>
      <th>Actions</th>
    </tr>
    <tr *ngFor="let item of contentData?.items"  class="content-table-row">
      <td><div style="display: flex; justify-content: center;"><input type="checkbox"></div></td>
      <td (click)="selectItem(item)" > <div class="item-name">
        <div style="display: flex; align-items: center;"><img [ngClass]="item?.kind === 'folder' ? 'item-kind' : ''" height="20px" [src]="item?.kind === 'folder' ? '../../../assets/folder.svg' : '../../../assets/doc.svg'"></div> <div>{{item?.name}}</div>
      </div></td>
      <td style="padding: 0.25rem 0rem;"><div>{{item?.createdBy}}</div></td>
      <td style="padding: 0.25rem 0rem; text-align: center;">{{item?.createdOn |  date:'dd-MM-yyyy / HH:mm:ss'}}</td>
      <td style="padding: 0.25rem 0rem; text-align: center;">{{item?.changedOn |  date:'dd-MM-yyyy / HH:mm:ss'}}</td>
      <td><div class="action-buttons">
        <button class="action-button" (click)="downloadFile(item)" [disabled]="item.kind === 'folder'">
          <img [class]="item.kind === 'folder' ? 'disabled' : 'primary'" src="../../../assets/actions/download.svg" height="20" alt="">
          </button>
          <button (click)="deleteItem(item)" class="action-button" ><img class="warn"  src="../../../assets/actions/delete.svg" height="20" alt=""></button>
          <button class="action-button" (click)="openInfoDialog(item)" ><img class="primary" src="../../../assets/actions/info.svg" height="20" alt=""></button>
      </div>
      </td>
    </tr>
  </table>
</div>

<ng-template #emptyView>
  <app-empty-view></app-empty-view>
</ng-template>


<dialog *ngIf="this.itemData" [open]="isOverviewOpen" id="dialog">

  <p style="font-weight: bold;">Information overview</p>
  <table style="font-size: small;">
    <tr *ngFor="let prop of this.itemData">
     <td class="info-properties">{{prop[0]}}:</td>
     <td> {{prop[0] === 'extended' ? (prop[1] | json) : prop[1]}}</td>
     <td><button (click)="copyToClipboard(prop[1])" class="action-button"><img id="copy-button" height="14" src="../../../assets/actions/copy.svg" alt=""></button></td>
     <td><button class="action-button"><img id="copy-button" height="14" src="../../../assets/actions/edit.svg" alt=""></button></td>
    </tr>
  </table>

  <button class="action-button close" (click)="closeInfoDialog()">
    <img height="20" src="../../../assets/actions/close.svg" alt="" srcset="">
  </button>
</dialog>
